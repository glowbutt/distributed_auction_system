syntax = "proto3";
option go_package = "distributed_auction_system/grpc/proto";

message Empty {}

message Bid {
  // timestamp?
  int64 id = 1;
  int64 amount = 2;
}

// Returns bid result, either "Success" or "Failure". Otherwise, if the auction is over, should return the winning bid
message Result {
  string result = 1;
}


// For simplicity and data consistency, we always read and write from the Leader server. If this gets overloaded and crashes, we move to a new Leader.
service AuctionService {
  rpc SendBid(stream Bid) returns (stream Result) {}
  rpc SendQuery(Empty) returns (Result) {}
}